<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Novacool Knowledge Uploader</title>
  <style>
    body { font-family: Arial, sans-serif; background:#111; color:#fff; margin:0; padding:30px; }
    h1 { margin-bottom: 8px; }
    .card { background:#1b1b1b; padding:25px; border-radius:12px; max-width:600px; }
    button { background:#ff3838; color:white; border:none; padding:14px 24px; font-size:16px; border-radius:8px; cursor:pointer; }
    button:hover { background:#ff5252; }
  </style>
</head>
<body>
  <h1>ðŸ“„ Novacool UEF Knowledge Uploader</h1>
  <p>Upload PDFs or DOCX â€” then click <strong>Reindex Knowledge Base</strong> to activate them in the chatbot.</p>

  <div class="card">
    <input id="fileInput" type="file" multiple>
    <br><br>
    <button onclick="upload()">Upload Files</button>
    <button onclick="reindex()">Reindex Knowledge Base</button>
    <pre id="log"></pre>
  </div>

  <script>
    const log = msg => document.getElementById("log").textContent = msg;

    async function upload(){
      const files = document.getElementById("fileInput").files;
      if(files.length === 0){ log("No files selected"); return; }

      const form = new FormData();
      for(let f of files) form.append("files", f);

      log("Uploading...");
      const r = await fetch("/upload", { method:"POST", body: form });
      log(await r.text());
    }

    async function reindex(){
      log("Reindexing... (this triggers backend pipeline)");
      const r = await fetch("/reindex", { method:"POST" });
      log(await r.text());
    }
  </script>
</body>
</html>
